# Auto History Cleaner

Chrome起動時に自動で閲覧履歴とダウンロード履歴を削除するChrome拡張機能です。

## 機能

- **自動削除**: Chrome起動時に自動で古い履歴を削除
- **カスタマイズ可能**: 削除対象期間の設定可能
- **詳細ログ**: 削除処理の詳細をコンソールに出力
- **安全性**: エラーハンドリングによる安全な動作

## 削除対象

- 閲覧履歴（指定期間より古いもの）
- ダウンロード履歴（指定期間より古いもの）

## インストール方法

1. このリポジトリをクローンまたはダウンロード
```bash
git clone https://github.com/nanatsu8/auto-history-cleaner.git
```

2. Chromeで `chrome://extensions/` を開く

3. 右上の「デベロッパーモード」を有効にする

4. 「パッケージ化されていない拡張機能を読み込む」をクリック

5. ダウンロードしたフォルダを選択

## 設定

`background.js` の上部で削除期間をカスタマイズできます：

```javascript
const DELETE_DAYS_AGO = 1;    // n日以上前の履歴を削除
const DELETE_HOURS_AGO = 0;   // n時間以上前の履歴を削除
const DELETE_MINUTES_AGO = 0; // n分以上前の履歴を削除
const DELETE_SECONDS_AGO = 0; // n秒以上前の履歴を削除
```

### 設定例

- **1日前より古い履歴を削除**: `DELETE_DAYS_AGO = 1`
- **12時間前より古い履歴を削除**: `DELETE_HOURS_AGO = 12`
- **30分前より古い履歴を削除**: `DELETE_MINUTES_AGO = 30`

## 動作タイミング

- Chrome起動時
- 拡張機能のインストール時
- 拡張機能の更新時

## ログ確認方法

1. `chrome://extensions/` を開く
2. 「Auto History Cleaner」の「詳細」をクリック
3. 「バックグラウンドページを検査」をクリック
4. デベロッパーツールのコンソールタブでログを確認

## ファイル構成

```
auto-history-cleaner/
├── manifest.json      # 拡張機能の設定ファイル
├── background.js      # メインロジック（Service Worker）
├── README.md         # このファイル
└── svg_to_png_multi_size.py  # アイコン変換スクリプト
```

## 必要な権限

- `browsingData`: ダウンロード履歴削除のため
- `history`: 閲覧履歴の検索・削除のため

## 注意事項

⚠️ **重要**: この拡張機能は履歴を**永続的に削除**します。削除された履歴は復元できません。

- 削除実行前に重要な履歴がないことを確認してください
- 設定を変更した場合は拡張機能を再読み込みしてください
- 大量の履歴がある場合、削除処理に時間がかかる場合があります

## トラブルシューティング

### 履歴が削除されない場合

1. 拡張機能が有効になっているか確認
2. 必要な権限が付与されているか確認
3. コンソールログでエラーメッセージを確認

### 設定が反映されない場合

1. `background.js` を編集後、拡張機能を再読み込み
2. Chrome を再起動

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 開発者

- GitHub: [@nanatsu8](https://github.com/nanatsu8)

## バージョン履歴

- **v1.0.0**: 初回リリース
  - 基本的な履歴削除機能
  - カスタマイズ可能な削除期間設定
  - 詳細ログ出力機能